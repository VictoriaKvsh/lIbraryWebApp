<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<th:block th:include="fragments/navBar.html :: headerfiles">
        </th:block> 
<link href="css/catalog_style.css" rel="stylesheet" />
</head>


<body>
<th:block th:include="fragments/navBar.html :: navBar">
        </th:block>
	<table>
		<tr>
			<th>Autor</th>
			<th>Title</th>
			<th>Year</th>
			<th>Add to Catalog</th>

		</tr>
		<th:block th:each="book : ${#lists.sort(books, byAutor)}">
			<tr>
				<td th:text="${book.autor}"></td>
				<td th:text="${book.title}"></td>

				<td th:text="${book.year}"></td>
				<td><form th:action="@{/books/{bookId}/catalog(bookId=${book.id})}"
						method="post">
						<input type="submit" value="Add" />
					</form></td>

			</tr>
		</th:block>
	</table>
	<form th:action="@{/books/new}" method="post">
		<input type="text" name="title" /> <input type="text" name="autor" />
		<input type="text" name="year" /> <input type="submit"
			value="Add a book" />
	</form>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
	<script>
		new WOW().init();
	</script>
	<script>
		$(window).scroll(function() {

			var topWindow = $(window).scrollTop();
			var topWindow = topWindow * 1.5;
			var windowHeight = $(window).height();
			var position = topWindow / windowHeight;
			position = 1 - position;

			$('#bottom').css('opacity', position);

		});

		function openNav() {
			document.getElementById("mySidenav").style.width = "250px";
			document.getElementById("main").style.display = "0";
			document.body.style.backgroundColor = "white";
		}

		function closeNav() {
			document.getElementById("mySidenav").style.width = "0";
			document.getElementById("main").style.marginRight = "0";
			document.body.style.backgroundColor = "white";
		}

		$(window).on("scroll", function() {
			if ($(this).scrollTop() > 10) {
				$("nav.navbar").addClass("mybg-dark");
				$("nav.navbar").addClass("navbar-shrink");

			} else {
				$("nav.navbar").removeClass("mybg-dark");
				$("nav.navbar").removeClass("navbar-shrink");

			}

		});

		$(function() {
			$('#bottom')
					.click(
							function() {
								if (location.pathname.replace(/^\//, '') == this.pathname
										.replace(/^\//, '')
										&& location.hostname == this.hostname) {
									var target = $(this.hash);
									target = target.length ? target
											: $('[name=' + this.hash.slice(1)
													+ ']');
									if (target.length) {
										$('html,body').animate({
											scrollTop : target.offset().top
										}, 500);
										return false;
									}
								}
							});
		});
	</script>
	<script>
		$(document).ready(function() {
			$(".fancybox").fancybox({
				openEffect : "none",
				closeEffect : "none"
			});
		});
	</script>
</body>
</html>
