<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<title>Catalog</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" href="/css/catalog.css">
<link
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css">
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"
	rel='stylesheet' type='text/css'>
<script
	src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
</head>

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">

<body>


	<div class="contai1ner">
		<div class="roww">
			<div class="col-md-10 col-md-offset-1">

				<div class="panel panel-default panel-table">
					<div class="panel-heading">
						<div class="row">
							<div class="col col-xs-6">
								<h3 class="panel-title">Catalog</h3>
							</div>

						</div>
					</div>
					<div class="panel-body">
						<table class="table table-striped table-bordered table-list">
							<thead>
								<tr>
									

									<th>Title</th>
									<th>Autor</th>
									<th>Year</th>
									<th>Status</th>
									<th>Order</th>
									<th sec:authorize="hasRole('ROLE_ADMIN')">Reader's name</th>
									<th sec:authorize="hasRole('ROLE_ADMIN')">Delete</th>
									<th><em class="fa fa-cog"></em></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="catalog : ${catalog}">
									
											
									<td> <span class="text-4xl" th:text="${catalog.bookDiscription.title}"></span></td>
									<td> <span class="text-4xl"  th:text="${catalog.bookDiscription.autor}"></span></td>
									<td class="text-base" th:text="${catalog.bookDiscription.year}" />
									<td><span
										th:if="${catalog.status == T(by.grodno.vika.librarywebapp.domain.Status).DUE_TO}"
										th:text="|${catalog.status}  ${#dates.format(catalog.readersBook.dueDate, 'dd-MM')}|">
									</span> <span
										th:unless="${catalog.status == T(by.grodno.vika.librarywebapp.domain.Status).DUE_TO}"
										th:text="${catalog.status}"> </span></td>
									<td>
										<form
											th:action="@{/reader/{catalogId}/add(catalogId=${catalog.id})}"
											th:method="post"
											th:if="${catalog.status == T(by.grodno.vika.librarywebapp.domain.Status).AVAILABLE}">
											<input type="submit" value="Order" />
										</form>
									</td>

									<td sec:authorize="hasRole('ROLE_ADMIN')"><a
										th:href="@{users/profile/books(userId=${catalog?.readersBook?.ownerUser?.id})}"
										th:text="${catalog?.readersBook?.ownerUser?.lastName}"></a></td>

									<td sec:authorize="hasRole('ROLE_ADMIN')">
										<form
											th:action="@{/catalog/delete/{catalogId}(catalogId=${catalog.id})}"
											th:method="post">
											<input type="submit" value="Delete" />
										</form>
									</td>
									<td align="center"> <a class="btn btn-danger"><em
											class="fa fa-trash" th:action="@{/catalog/delete/{catalogId}(catalogId=${catalog.id})}"
											th:method="post"></em></a></td>
									




								</tr>
							</tbody>
						</table>

					</div>
					<div class="panel-footer">
						<div class="row">
							<div class="col col-xs-4">Page 1 of 5</div>
							<div class="col col-xs-8">
								<ul class="pagination hidden-xs pull-right">
									<li><a href="#">1</a></li>
									<li><a href="#">2</a></li>
									<li><a href="#">3</a></li>
									<li><a href="#">4</a></li>
									<li><a href="#">5</a></li>
								</ul>
								<ul class="pagination visible-xs pull-right">
									<li><a href="#">«</a></li>
									<li><a href="#">»</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<br />
	<br />
	<form th:action="@{/books}" method="get">
		<input class="btn btn-dark" type="submit" value="Books discriptions">
	</form>

</body>
</html>